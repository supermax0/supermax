<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>SuperMax | متجر الشاشات الذكية</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="متجر شاشات ذكية 4K و QLED مع ضمان وتوصيل سريع">

<style>
/* ===== RESET ===== */
*{box-sizing:border-box;margin:0;padding:0}
body{
 font-family:Tajawal,system-ui;
 background:#050b14;
 color:#fff;
 overflow-x:hidden;
}

/* ===== VARS ===== */
:root{
 --glass:rgba(255,255,255,.14);
 --blur:blur(22px);
 --green:#00ff88;
 --blue:#00ccff;
 --red:#ff4d4d;
 --radius:28px;
}

/* ===== BG EFFECT ===== */
body::before{
 content:"";
 position:fixed;
 inset:-20%;
 background:
 radial-gradient(circle at 20% 20%,#00ff8860,transparent 40%),
 radial-gradient(circle at 80% 30%,#00ccff60,transparent 40%),
 radial-gradient(circle at 50% 80%,#ff00cc40,transparent 40%);
 filter:blur(140px);
 z-index:-1;
}

/* ===== HEADER ===== */
header{
 position:sticky;
 top:0;
 z-index:100;
 display:flex;
 justify-content:space-between;
 align-items:center;
 padding:16px 28px;
 background:rgba(255,255,255,.08);
 backdrop-filter:var(--blur);
}
.logo{
 font-size:24px;
 font-weight:900;
 color:var(--green);
}
header input{
 width:240px;
 padding:12px 18px;
 border:none;
 border-radius:30px;
 background:var(--glass);
 color:#fff;
 outline:none;
}

/* ===== HERO ===== */
.hero{
 min-height:85vh;
 display:flex;
 align-items:center;
 justify-content:center;
 text-align:center;
 padding:40px 20px;
}
.hero h1{
 font-size:clamp(36px,5vw,68px);
 margin-bottom:18px;
}
.hero p{
 opacity:.85;
 font-size:19px;
 margin-bottom:32px;
}
.hero button{
 padding:18px 46px;
 border:none;
 border-radius:40px;
 background:linear-gradient(135deg,var(--green),var(--blue));
 font-weight:900;
 cursor:pointer;
}

/* ===== GRID ===== */
.products{
 padding:50px 30px;
 display:grid;
 grid-template-columns:repeat(auto-fill,minmax(270px,1fr));
 gap:34px;
}

/* ===== CARD ===== */
.card{
 position:relative;
 background:linear-gradient(
  180deg,
  rgba(255,255,255,.20),
  rgba(255,255,255,.06)
 );
 backdrop-filter:blur(24px);
 border-radius:var(--radius);
 padding:24px;
 transition:.45s cubic-bezier(.2,.8,.2,1);
 overflow:hidden;
}
.card::after{
 content:"";
 position:absolute;
 inset:0;
 background:linear-gradient(
  120deg,
  transparent,
  rgba(255,255,255,.35),
  transparent
 );
 opacity:0;
 transition:.6s;
}
.card:hover::after{opacity:1}
.card:hover{
 transform:translateY(-16px) scale(1.02);
 box-shadow:
  0 45px 90px rgba(0,0,0,.7),
  0 0 50px rgba(0,255,136,.25);
}

/* IMAGE */
.card img{
 width:100%;
 height:200px;
 object-fit:contain;
 margin-bottom:16px;
 transition:.6s ease;
}
.card:hover img{
 transform:scale(1.08);
}

/* TEXT */
.card h3{
 font-size:19px;
 margin-bottom:6px;
}
.card small{
 opacity:.75;
 display:block;
 min-height:34px;
}

/* PRICE */
.price{
 color:var(--green);
 font-size:23px;
 font-weight:900;
 margin:12px 0 6px;
}

/* STOCK */
.stock{
 font-size:14px;
}
.stock.out{
 color:var(--red);
 font-weight:800;
}

/* BUTTON */
.card a{
 display:block;
 text-align:center;
 margin-top:18px;
 padding:12px 30px;
 border-radius:30px;
 background:linear-gradient(135deg,var(--green),var(--blue));
 color:#000;
 text-decoration:none;
 font-weight:900;
 opacity:0;
 transform:translateY(12px);
 transition:.4s;
}
.card:hover a{
 opacity:1;
 transform:translateY(0);
}

/* ===== SKELETON ===== */
.skeleton{
 background:rgba(255,255,255,.12);
 border-radius:var(--radius);
 padding:24px;
 animation:pulse 1.4s infinite;
}
.skeleton .img{
 height:200px;
 background:rgba(255,255,255,.25);
 border-radius:18px;
 margin-bottom:16px;
}
.skeleton .line{
 height:14px;
 background:rgba(255,255,255,.25);
 border-radius:10px;
 margin-bottom:10px;
}
.skeleton .line.short{width:60%}
@keyframes pulse{
 0%{opacity:.35}
 50%{opacity:1}
 100%{opacity:.35}
}

/* ===== FOOTER ===== */
footer{
 text-align:center;
 padding:28px;
 opacity:.6;
}

/* ===== MOBILE ===== */
@media(max-width:768px){
 header{
  flex-direction:column;
  gap:12px;
 }
 header input{width:100%}
 .products{padding:30px 20px}
}
</style>
</head>

<body>

<header>
 <div class="logo">SuperMax</div>
 <input id="search" placeholder="ابحث عن شاشة...">
</header>

<section class="hero">
 <div>
  <h1>تجربة مشاهدة مختلفة</h1>
  <p>شاشات ذكية • 4K • QLED • Android • ضمان سنة</p>
  <button onclick="scrollToProducts()">استعرض الشاشات</button>
 </div>
</section>

<main class="products" id="products">
 <!-- Skeleton -->
 <div class="skeleton">
  <div class="img"></div>
  <div class="line"></div>
  <div class="line short"></div>
 </div>
 <div class="skeleton">
  <div class="img"></div>
  <div class="line"></div>
  <div class="line short"></div>
 </div>
 <div class="skeleton">
  <div class="img"></div>
  <div class="line"></div>
  <div class="line short"></div>
 </div>
</main>

<footer>
 © 2025 SuperMax – جميع الحقوق محفوظة
</footer>

<script type="module">
import { db } from "./firebase.js";
import { collection, getDocs }
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const box = document.getElementById("products");
const search = document.getElementById("search");
let products = [];

async function load(){
 const snap = await getDocs(collection(db,"products"));
 products=[];
 snap.forEach(d=>{
  const p=d.data();
  if(p.active!==false){
   products.push({id:d.id,...p});
  }
 });
 render(products);
}

function render(list){
 box.innerHTML="";
 if(!list.length){
  box.innerHTML="<p>لا توجد منتجات</p>";
  return;
 }
 list.forEach(p=>{
  box.innerHTML+=`
   <div class="card">
    <img src="${(p.images && p.images[0]) || p.image}" loading="lazy">
    <h3>${p.name}</h3>
    <small>${p.specs||""}</small>
    <div class="price">${Number(p.price).toLocaleString()} د.ع</div>
    <div class="stock ${p.stock<=0?'out':''}">
     ${p.stock<=0?'❌ نفد المخزون':'متوفر: '+p.stock}
    </div>
    <a href="product.html?id=${p.id}">عرض التفاصيل</a>
   </div>
  `;
 });
}

search.oninput=()=>{
 const q=search.value.trim();
 render(products.filter(p=>p.name.includes(q)));
};

function scrollToProducts(){
 box.scrollIntoView({behavior:"smooth"});
}

load();
</script>

</body>
</html>
